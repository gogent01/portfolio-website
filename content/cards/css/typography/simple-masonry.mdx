---
question: |
  Name three approaches to create a simple masonry layout using only CSS.
  What are the problems with each?
publishedOn: '2024-07-30T12:00:00+0100'
id: HJ1Scw
---
### Multi-Column Approach

```css
  :root {
    --gap: 1rem;
  }

  ul {
    columns: 3;
    column-gap: var(--gap);
    padding: var(--gap);
  }

  li {
    margin-bottom: var(--gap);
    break-inside: avoid;
  }
```

*Problems:*
- The grid is filled from top to bottom, not from left to right.
- Adding new elements will cause the grid to be reorganized.

### Vertical Flexbox Approach

```css
  :root {
    --gap: 1rem;
    --columns: 3;
  }

  ul {
    display: flex;
    flex-direction: column;
    flex-wrap: wrap;
    gap: var(--gap);
    padding: var(--gap);
    height: 100vh;
  }

  li {
    width: calc((100% - (var(--column-count) - 1) * var(--gap)) / var(--column-count));
  }
```

*Problems:*
- The grid is filled from top to bottom, not from left to right.
- Adding new elements will cause the grid to be reorganized.

### Horizontal Flexbox Approach

```css
  :root {
    --gap: 1rem;
    --columns: 3;
  }

  ul {
    display: flex;
    flex-direction: column;
    flex-wrap: wrap;
    gap: var(--gap);
    padding: var(--gap);
    height: 100vh;
  }

  li {
    flex-basis: calc((100% - (var(--column-count) - 1) * var(--gap)) / var(--column-count));
  }
```

*Problems:*
- Each row of the grid will have a height of its tallest element, leaving empty vertical spaces around shorter elements.

### Solving the Problems

- use a JavaScript library like Masonry.js;
- or use the Horizontal Flexbox Approach with an [element ordering trick](https://tobiasahlin.com/blog/masonry-with-css/).
